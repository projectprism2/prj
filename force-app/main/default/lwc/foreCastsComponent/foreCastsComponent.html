<template>
    <template if:true={foreCastList}>
        <div class="slds-scrollable" style="background-color: white;">
            <table class="slds-table slds-table_bordered slds-scrollable">
                <thead>
                    <th></th>
                <template for:each={headers} for:item="header">
                    <th key={header.key}><span class="slds-align_absolute-center">{header.value}</span></th>
                </template>
            </thead>
            <tbody><tr>
                <td><b>Labour</b></td>
                <template for:each={foreCastList} for:item="forecast">
                    <td key={forecast.Id}>
                        <lightning-input data-id={forecast.Id} type="number" value={forecast.Labour__c} label="" formatter="currency" onchange={handleLabourChange}></lightning-input>
                    </td>
                </template>
            </tr>
            <td><b>Materials</b></td>
                <template for:each={foreCastList} for:item="forecast">
                    <td key={forecast.Id}>
                        <lightning-input data-id={forecast.Id} type="number" value={forecast.Materials__c} label="" formatter="currency" onchange={handleMaterialChange}></lightning-input>
                    </td>
                </template>
            </tr>
            <td><b>Fixed costs</b></td>
                <template for:each={foreCastList} for:item="forecast">
                    <td key={forecast.Id}>
                        <lightning-input data-id={forecast.Id} type="number" value={forecast.Fixed_Costs__c} label="" formatter="currency" onchange={handleFixedCostChange}></lightning-input>
                    </td>
                </template>
            </tr>
            <td><b>Totals</b></td>
                <template for:each={foreCastList} for:item="forecast">
                    <td key={forecast.Id}>
                        <lightning-formatted-number  class="slds-align_absolute-center" value={forecast.Total__c} format-style="currency"></lightning-formatted-number>
                    </td>
                </template>
            </tr>
                
            </tbody>
            </table>
            <div class="slds-align_absolute-center slds-m-vertical_medium">
                <lightning-button id="saveForecast" variant="brand" label="Save" onclick={handleSave}></lightning-button>
            </div>
        </div>
    </template>
</template>